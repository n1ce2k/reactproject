{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/n1ce/Desktop/swproject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/n1ce/Desktop/swproject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/n1ce/Desktop/swproject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];useEffect(function(){fetchCharacters();},[]);var fetchCharacters=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/swapi');case 3:response=_context.sent;setCharacters(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchCharacters(){return _ref.apply(this,arguments);};}();var fetchFilmData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(url){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(url);case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);return _context2.abrupt(\"return\",null);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function fetchFilmData(_x){return _ref2.apply(this,arguments);};}();var renderFilms=function renderFilms(films){return films.map(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(filmUrl,index){var filmData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchFilmData(filmUrl);case 2:filmData=_context3.sent;if(!filmData){_context3.next=7;break;}return _context3.abrupt(\"return\",/*#__PURE__*/_jsxs(\"li\",{children:[\"Title: \",filmData.title,/*#__PURE__*/_jsx(\"br\",{}),\"Director: \",filmData.director,/*#__PURE__*/_jsx(\"br\",{}),\"Release Date: \",filmData.release_date]},index));case 7:return _context3.abrupt(\"return\",null);case 8:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}());};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Star Wars Characters\"}),/*#__PURE__*/_jsx(\"ul\",{children:characters.map(function(character,index){return/*#__PURE__*/_jsxs(\"li\",{children:[character.name,\" - Height: \",character.height,/*#__PURE__*/_jsx(\"ul\",{children:renderFilms()})]},index);})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","characters","setCharacters","fetchCharacters","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","error","stop","apply","arguments","fetchFilmData","_ref2","_callee2","url","_callee2$","_context2","abrupt","_x","renderFilms","films","map","_ref3","_callee3","filmUrl","index","filmData","_callee3$","_context3","children","title","director","release_date","_x2","_x3","character","name","height"],"sources":["C:/Users/n1ce/Desktop/swproject/client/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\n\r\ninterface Character {\r\n    name: string;\r\n    height: string;\r\n    films: string[];\r\n}\r\n\r\ninterface Film {\r\n    title: string;\r\n    director: string;\r\n    release_date: string;\r\n}\r\n\r\nfunction App() {\r\n    const [characters, setCharacters] = useState<Character[]>([]);\r\n\r\n    useEffect(() => {\r\n        fetchCharacters();\r\n    }, []);\r\n\r\n    const fetchCharacters = async () => {\r\n        try {\r\n            const response = await axios.get<Character[]>('/api/swapi');\r\n            setCharacters(response.data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const fetchFilmData = async (url: string) => {\r\n        try {\r\n            const response = await axios.get<Film>(url);\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error(error);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const renderFilms = (films: string[]) => {\r\n        return films.map(async (filmUrl, index) => {\r\n            const filmData = await fetchFilmData(filmUrl);\r\n            if (filmData) {\r\n                return (\r\n                    <li key={index}>\r\n                        Title: {filmData.title}<br />\r\n                        Director: {filmData.director}<br />\r\n                        Release Date: {filmData.release_date}\r\n                    </li>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Star Wars Characters</h1>\r\n            <ul>\r\n                {characters.map((character, index) => (\r\n                    <li key={index}>\r\n                        {character.name} - Height: {character.height}\r\n                        <ul>\r\n                            {renderFilms()}\r\n                        </ul>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}